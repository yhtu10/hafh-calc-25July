<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HafH 住宿比價試算器</title>
  <style>
    body {
      font-family: "Helvetica Neue", sans-serif;
      line-height: 1.8;
      background-color: #fff;
      color: #333;
      max-width: 700px;
      margin: auto;
      padding: 30px 20px;
    }
    h1 {
      font-size: 24px;
      margin-bottom: 20px;
    }
    .section {
      margin-bottom: 30px;
    }
    label, select, input {
      display: block;
      margin: 10px 0;
      font-size: 16px;
    }
    button {
      font-size: 16px;
      padding: 10px 20px;
    }
    .note, .plan, .reminder {
      background: #f9f9f9;
      border-left: 4px solid #ccc;
      padding: 15px;
      margin-top: 20px;
    }
    .plan {
      border-left-color: #2196F3;
    }
    .highlight {
      color: #d32f2f;
      font-weight: bold;
    }
    .small-note {
      font-size: 14px;
      color: #777;
    }
  </style>
</head>
<body>
  <h1>HafH 住宿比價試算器</h1>

  <div class="note">
    🔔 <strong>提醒：</strong><br>
    此計算器是以「<strong>新會員有使用邀請碼、帳戶初始為 300 Ⓗ</strong>」為前提進行估算。<br>
    請確認您所查詢的官網價格，是與 HafH 預約條件一致的日期、房型與人數，並以新台幣標示。
  </div>

  <div class="section">
    <label for="officialPrice">官網價格（請輸入新台幣）：</label>
    <input type="number" id="officialPrice" placeholder="例如：4400">

    <label for="coinAmount">需要 Ⓗ 數量：</label>
    <input type="number" id="coinAmount" placeholder="例如：430">

    <button onclick="calculate()">立即試算</button>
  </div>

  <div class="note">
    🧾 <strong>HafH 可購買代幣方案說明：</strong><br>
    🎁 新手包組合（限首次註冊購買，每組限購一次）：<br>
    ・100 Ⓗ ＝ NT$720<br>
    ・300 Ⓗ ＝ NT$2,040<br>
    ・600 Ⓗ ＝ NT$3,840<br>
    🧳 指定代幣組合（限現有付費會員）：<br>
    ・200 Ⓗ（九折）＝ NT$1,440（可重複購買）
  </div>

  <div id="results"></div>

  <div class="reminder">
    🧡 <strong>溫馨提醒：</strong>
    <ol>
      <li>此試算頁面為粗略估算，為求警慎請自行依照邏輯再次試算一遍。</li>
      <li>付費加入當天為結算日，且為第一次扣款，到第三次扣款的時候，就會升級 Silver VIP，享有每筆訂房 95 折。</li>
      <li>有預約的狀況下無法變更為休眠會籍，若預約日期距離現在還會經過一次結算日，則會有扣款並同時有 200 Ⓗ 入帳。</li>
    </ol>
  </div>

  <script>
    function calculate() {
      const official = Number(document.getElementById('officialPrice').value);
      const need = Number(document.getElementById('coinAmount').value);
      let results = document.getElementById('results');
      let output = '';

      // 方案 A
      let deficitA = need - 300;
      let aCoinsCost = 0;
      if (deficitA > 0) aCoinsCost = 1440;
      let totalA = 439 + aCoinsCost;
      let percentA = Math.round((totalA / official) * 100);
      output += `
      <div class="plan">
        <h3>方案 A｜新會員單人入住</h3>
        <ul>
          <li>帳號開局為 300 Ⓗ，實際需要 ${need} Ⓗ，差額 ${deficitA > 0 ? deficitA : 0} Ⓗ</li>
          ${deficitA > 0 ? '<li>可購買 200 Ⓗ 指定代幣組合 NT$1,440</li>' : '<li>帳戶已足夠，不需購買代幣</li>'}
          <li>首月會費 NT$439</li>
        </ul>
        <strong>總成本：約 NT$${totalA}</strong><br>
        <span class="highlight">相對官網節省：約 ${100 - percentA}% 價格</span>
      </div>`;

      // 方案 B
      let perPerson = Math.ceil(need / 2);
      let bTotal = 439 * 2;
      let percentB = Math.round((bTotal / official) * 100);
      output += `
      <div class="plan">
        <h3>方案 B｜新會員雙人入住分攤</h3>
        <ul>
          <li>房價 ${need} Ⓗ 拆半後每人需 ${perPerson} Ⓗ</li>
          <li>兩人皆為新會員，帳號內皆有 300 Ⓗ，足以支付所需 Ⓗ 數</li>
          <li>每人會費 NT$439</li>
        </ul>
        <strong>總成本：約 NT$${bTotal}</strong><br>
        <span class="highlight">相對官網節省：約 ${100 - percentB}% 價格</span>
      </div>`;

      // 方案 C
      let cTotalCoinsCost = 2880;
      let cFriendFee = 439;
      let cTotal = cTotalCoinsCost + cFriendFee;
      let percentC = Math.round((cTotal / official) * 100);
      output += `
      <div class="plan">
        <h3>方案 C｜老會員邀請朋友一起住</h3>
        <ul>
          <li>朋友需 215 Ⓗ，你也需 215 Ⓗ</li>
          <li>假設你帳號無餘額，購買兩組 200 Ⓗ 指定組合（NT$1,440 × 2）</li>
          <li>朋友首次付費成為會員：NT$439</li>
        </ul>
        <strong>總成本：約 NT$${cTotal}</strong><br>
        <span class="highlight">相對官網節省：約 ${100 - percentC}% 價格</span>
      </div>`;

      results.innerHTML = output;
    }
  </script>
</body>
</html>
